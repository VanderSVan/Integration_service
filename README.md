# –í–ê–ú –î–ï–ô–°–¢–í–ò–¢–ï–õ–¨–ù–û –°–¢–û–ò–¢ –≠–¢–û –ü–†–û–ß–ï–°–¢–¨ üòâ

---
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. [(–ø–æ–¥—Ä–æ–±–Ω–µ–µ)](https://github.com/VanderSVan/Clean_Architecture/tree/main)

---
## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. [–ó–∞–¥–∞–Ω–∏–µ](#—á—Ç–æ-–Ω—É–∂–Ω–æ-—Å–¥–µ–ª–∞—Ç—å): –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è.
1. [–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é](#–ø–æ—à–∞–≥–æ–≤–æ–µ-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ-–ø–æ-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é): –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞.
2. [–ö–∞—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤](#–∫–∞—Ä—Ç–∞-–¥–æ—Å—Ç—É–ø–Ω—ã—Ö-—Ä–µ—Å—É—Ä—Å–æ–≤-–ø—Ä–æ–µ–∫—Ç–∞): –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤—Å–µ–º endpoint'–∞–º –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º –ø—Ä–æ–µ–∫—Ç–∞.
3. [–ü–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è](#–∞-—à–æ-–∞-–∫—É–¥–∞-—Ç—ã–∫–∞—Ç—å): –ü–æ—à–∞–≥–æ–≤—ã–π –≥–∞–π–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

---
## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?
–¶–µ–ª—å –¥–∞–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ç–æ–ø–∏–∫–µ –±—Ä–æ–∫–µ—Ä–∞ –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ API.
–°–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ FastAPI.

### –ß—Ç–æ –æ–∂–∏–¥–∞–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç?
–í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ—à–µ–Ω–∏—è –æ–∂–∏–¥–∞–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å docker-compose.yaml.
–°–µ—Ä–≤–∏—Å —Å–ø–æ—Å–æ–±–µ–Ω –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–∫ –≤ —Ç–æ–ø–∏–∫ –±—Ä–æ–∫–µ—Ä–∞ (–≤ –∫–∞—á–µ—Å—Ç–≤–µ –±—Ä–æ–∫–µ—Ä–∞ –≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Apache Kafka –∏–ª–∏ RabbitMQ), —Ç–∞–∫ –∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ REST-–∑–∞–ø—Ä–æ—Å–∞.
–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –æ–±–æ–∏—Ö —Å–ª—É—á–∞–µ–≤.
–î–∞–ª–µ–µ —Ö–æ–¥–∏—Ç—å –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ API –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã.
–í –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ –±–¥ —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å id –∑–∞–ø–∏—Å–∏ –≤ —Ç–æ–ø–∏–∫ –±—Ä–æ–∫–µ—Ä–∞.

–°–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ API Dadata –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–æ–ø–∏—Å–∞–Ω–∏–µ API - https://dadata.ru/api/clean/phone/),
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è email –∞–¥—Ä–µ—Å–æ–≤ (–æ–ø–∏—Å–∞–Ω–∏–µ API - https://dadata.ru/api/clean/email/),
–∞ —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ YandexGPT (–æ–ø–∏—Å–∞–Ω–∏–µ API - https://yandex.cloud/en/docs/foundation-models/concepts/yandexgpt/).

–í—Ö–æ–¥—è—â–∏–π –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç json:

```json
{
    "task_id": "number",
    "task_type": "enum: phone, email, gpt",
    "data": "string"
}
```

–í –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π json:

```json
{
    "task_id": "number",
    "id": "number"
}
```
–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç –≤ –ë–î –≤ —Ç–∞–±–ª–∏—Ü—É integration_service —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- id - –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- data - –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤
- task_type - —Ç–∏–ø –∑–∞–¥–∞—á–∏ ("enum: phone, email, gpt")

---
## –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º:

1. –ù–∞—á–Ω–∏—Ç–µ —Å —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª [`components/backend/.env.example`](components/backend/.env.example) –≤ `components/backend/.env`
   - –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤–∞—à–µ–π —Å—Ä–µ–¥—ã

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
    ```
    cd deployment/backend/
    ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç, —Å –ø–æ–º–æ—â—å—é –¥–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã:
    ```
         bash ./manage/start.sh --dev
    ```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å [–ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è](./deployment/backend/manage/README.md), –≤–∫–ª—é—á–∞—é—â–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –∏ —É–¥–∞–ª–µ–Ω–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.

_P.S. –î–ª—è –¥–∞–Ω–Ω–æ–≥–æ –º–∏–Ω–∏ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ dev —Å–±–æ—Ä–∫–∞.  
–ï—Å–ª–∏ –í–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–ø–ª–æ—è –ø—Ä–æ–µ–∫—Ç–∞, –º–∏–ª–æ—Å—Ç–∏ –ø—Ä–æ—à—É —Ç—ã–∫–Ω—É—Ç—å –Ω–∏–∂–µ:_
1) [bash-—Å–∫—Ä–∏–ø—Ç—ã](https://github.com/VanderSVan/Clean_Architecture/tree/main/deployment/backend/entrypoints)
2) [Dockerfile –∏ docker compose](https://github.com/VanderSVan/Clean_Architecture/tree/main/deployment/backend)
3) [nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](https://github.com/VanderSVan/Clean_Architecture/tree/main/deployment/backend/nginx_config)
4) [—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º](https://github.com/VanderSVan/Clean_Architecture/tree/main/deployment/backend/manage)

[–ö –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç—É](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)

---
## –ö–∞—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤–∞–º –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã:

- **API**: 
  - –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º
  - http://0.0.0.0:9000/api/v1
- **Swagger UI**: 
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Å—Ä–µ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
  - http://0.0.0.0:9000/api/v1/docs
- **Redoc UI**:
  - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –¥—Ä—É–≥–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
  - http://0.0.0.0:9000/api/v1/redoc
- **PgAdmin**: 
  - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL
  - http://0.0.0.0:5050/
- **Web RabbitMQ**:
  - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è RabbitMQ (—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –æ—á–µ—Ä–µ–¥—è–º–∏)
  - http://0.0.0.0:15672/

**!!! –û–°–¢–û–†–û–ñ–ù–û !!!** - –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ, –µ—Å–ª–∏ –í—ã –∏–∑–º–µ–Ω–∏–ª–∏ –ø–æ—Ä—Ç—ã –≤ `components/backend/.env` —Ñ–∞–π–ª–µ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö, —Ç–æ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å URL —Ä–µ—Å—É—Ä—Å–æ–≤.

[–ö –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç—É](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)

---
## –ê —à–æ? –ê –∫—É–¥–∞ —Ç—ã–∫–∞—Ç—å?
### 1. –î–ª—è –Ω–∞—á–∞–ª–∞ –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ [—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç](#–ø–æ—à–∞–≥–æ–≤–æ–µ-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ-–ø–æ-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é). _(–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π.)_

### 2. –î–∞–ª–µ–µ –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ pgadmin. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ [pgadmin](http://0.0.0.0:5050/) –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Login=`test@domain.com` password=`123456`.
![pgadmin_index.png](docs/images/pgadmin_index.png)  

### 3. –î–∞–ª–µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É `Add New Server` 
![pgadmin_new_server.png](docs/images/pgadmin_new_server.png)  

### 4. –ò–º—è –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–µ.  
![pgadmin_server_registration_step_1.png](docs/images/pgadmin_server_registration_step_1.png)  

### 5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Connection**. **Host name/address** —É–∫–∞–∂–∏—Ç–µ `db`. **Username** - `postgres`. **Password** - `postgres`. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É **Save**.  
![pgadmin_server_registration_step_2.png](docs/images/pgadmin_server_registration_step_2.png)  

### 6. –í–∞–º —É–∂–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –±–¥ `test_validator` –∏ —Ç–∞–±–ª–∏—Ü–∞ `integration_service`.  
![pgadmin_db_1.png](docs/images/pgadmin_db_1.png)  

### 7. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `alembic` –æ—Ç—Ä–∞–±–æ—Ç–∞–ª –∏ —Ç–∞–±–ª–∏—Ü–∞ –∏–º–µ–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É.  
![pgadmin_db_2.png](docs/images/pgadmin_db_2.png)  

### 8. –û—Ç–ª–∏—á–Ω–æ. –î–∞–ª–µ–µ —Å–æ–≤–µ—Ç—É—é –ø–µ—Ä–µ–π—Ç–∏ –∫ **api swagger**. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ [http://0.0.0.0:9000/api/v1/docs](http://0.0.0.0:9000/api/v1/docs).  
![api_1.png](docs/images/api_1.png)  

### 9. –ò–∑–º–µ–Ω–∏—Ç–µ **body** –Ω–∞ —Å–≤–æ–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å, –Ω–∞–∂–∞–≤ –Ω–∞ **Execute**.
```json
{
  "task_id": 1,
  "task_type": "phone",
  "data": "1234567890"
}
```  
![api_2.png](docs/images/api_2.png)  

### 10. –í –æ—Ç–≤–µ—Ç –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—á—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ.  
![api_3.png](docs/images/api_3.png)

### 11. –ü—Ä–æ–¥–µ–ª–∞–π—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –¥–ª—è `"task_type": "email"` –∏ –¥–ª—è `"task_type": "gpt"`  
```json
{
  "task_id": 2,
  "task_type": "email",
  "data": "some_email@domain.com"
}
```
```json
{
  "task_id": 3,
  "task_type": "gpt",
  "data": "–ó–¥—Ä–∞—Å—Ç–µ"
}
```

### 12. –î–∞–ª–µ–µ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å "–∫—Ä–æ–ª–∏–∫–∞" –ø–æ —Å—Å—ã–ª–∫–µ [http://0.0.0.0:15672/](http://0.0.0.0:15672/). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é **login** - `guest`, **password** - `guest`.  
![rabbitmq_1.png](docs/images/rabbitmq_1.png)

### 13. –í–∏–¥–∏–º, —á—Ç–æ –≤—Å–µ 3 –Ω–∞—à–∏—Ö –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–ª–∏ –∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω–µ—á–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏.
![rabbitmq_2.png](docs/images/rabbitmq_2.png)

### 14. –î–∞–ª–µ–µ –ø–µ—Ä–µ–π–¥–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É [**Queues and Streams**](http://0.0.0.0:15672/#/queues)
–í–∏–¥–∏–º, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç 2 –æ—á–µ—Ä–µ–¥–∏ - `TaskProcessingQueue` –∏ `TaskResultDeliveryQueue`.
- –û—Å–Ω–æ–≤–Ω–∞—è –æ—á–µ—Ä–µ–¥—å - `TaskProcessingQueue`, –≤ –Ω–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã –ø–æ—Å—Ç—É–ø–∞—é—â–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∫ –¥–∞–Ω–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
    "task_id": "number",
    "task_type": "enum: phone, email, gpt",
    "data": "string"
}
```
- –û—á–µ—Ä–µ–¥—å `TaskResultDeliveryQueue` —Å–¥–µ–ª–∞–Ω–∞ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ –≤ –Ω–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
    "task_id": "number",
    "id": "number"
}
```
![rabbitmq_3.png](docs/images/rabbitmq_3.png)

### 15. –ß—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤–æ—Ä–∫–µ—Ä–∞ –≤–Ω–µ api –ø—Ä–æ–¥–µ–ª–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –æ—á–µ—Ä–µ–¥—å [`TaskProcessingQueue`](http://0.0.0.0:15672/#/queues/%2F/TaskProcessingQueue)
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ–¥ —Å–ø–æ–π–ª–µ—Ä `Publish message`
- –í –æ–∫–Ω–µ `Payload` –ø–æ–º–µ—Å—Ç–∏—Ç–µ –ø–æ–¥–æ–±–Ω—ã–π json:
```json
{
  "task_id": 4,
  "task_type": "phone",
  "data": "0123654789"
}
```
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É `Publish message`  
![rabbitmq_4.png](docs/images/rabbitmq_4.png)  

### 16. –í–µ—Ä–Ω—É–≤—à–∏—Å—å –æ–±—Ä–∞—Ç–Ω–æ –∫ [–æ—á–µ—Ä–µ–¥—è–º](http://0.0.0.0:15672/#/queues), –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —á—Ç–æ –≤ –æ—á–µ—Ä–µ–¥–∏ `TaskResultDeliveryQueue` –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ :)
![rabbitmq_5.png](docs/images/rabbitmq_5.png)

### 17. –ß—Ç–æ–±—ã –æ—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å [`TaskResultDeliveryQueue`](http://0.0.0.0:15672/#/queues/%2F/TaskResultDeliveryQueue):
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –æ—á–µ—Ä–µ–¥—å [`TaskResultDeliveryQueue`](http://0.0.0.0:15672/#/queues/%2F/TaskResultDeliveryQueue)
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ–¥ —Å–ø–æ–π–ª–µ—Ä `Get messages`
- –í `Ack Mode` –≤—ã–±–µ—Ä–∏—Ç–µ `Automatic ack`
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É `Get Message(s)` (–º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å 4 —Ä–∞–∑–∞ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ)  
![rabbitmq_6.png](docs/images/rabbitmq_6.png)

### 18. –ù–∞–ø–æ—Å–ª–µ–¥–æ–∫ –≤–µ—Ä–Ω–µ–º—Å—è –≤ –±–¥, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å–∏.
- –í—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å:
```sql
SELECT * FROM public.integration_service
ORDER BY id ASC 
```
- –ò –≤–∏–¥–∏–º –Ω–∞—à–∏ 4 —Å—Ç—Ä–æ—á–∫–∏  
![db_1.png](docs/images/db_1.png)

[–ö –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç—É](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)

---
_–í–∞—É, –í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥–æ—à–ª–∏ –¥–æ —Å—é–¥–∞? –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —è –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –í–∞–º, —á—Ç–æ —É–¥–µ–ª–∏–ª–∏ –≤—Ä–µ–º—è üôÇ._




















